{% load static %}
{% load filter_tags %}
{% load humanize %}
<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <link rel="icon" href="{% static 'images/fevicon.png' %}" type="image/gif" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>Minics</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />

  <!-- fonts style -->
  <link href="{% static 'https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap' %}" rel="stylesheet"> <!-- range slider -->

  <!-- font awesome style -->
  <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet" />
  <!-- responsive style -->
  <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />


  <script src=  
  "https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js">  
      </script>  
      
      <script src=  
  "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js">  
      </script>  
      
      <link href=  
  "http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css"
          rel="stylesheet" type="text/css" />  


          <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
          
          <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>


          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 
<style>
   .dropbtn {
          background:white;
          padding: 5px;
          font-size: 16px;
          border: none;
          margin:0;
          width:213px;
        }
        
        .dropdown {
          position: relative;
          display: inline-block;
        }
        
        .dropdown-content {
          display: none;
          position: absolute;
          background-color: #f1f1f1;
          min-width: 200px;
          box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
          z-index: 1;
        }
        
        .dropdown-content a {
          color: black;
          padding: 10px 12px;
          text-decoration: none;
          display: block;
        }
        
        .dropdown-content a:hover {
          background-color: #ddd;}
        
        .dropdown:hover .dropdown-content {display: block;}
        
        .dropdown:hover .dropbtn {background-color:#E8E8E8;}




        #scroll {
          position:fixed;
          right:10px;
          bottom:10px;
          cursor:pointer;
          width:50px;
          height:50px;
          background-color:#3498db;
          text-indent:-9999px;
          display:none;
          -webkit-border-radius:60px;
          -moz-border-radius:60px;
          border-radius:60px;
          z-index:30000;
      }
      #scroll span {
          position:absolute;
          top:50%;
          left:50%;
          margin-left:-8px;
          margin-top:-12px;
          height:0;
          width:0;
          border:8px solid transparent;
          border-bottom-color:#ffffff;
          z-index:30000;
      }
      #scroll:hover {
          background-color:#e74c3c;
          opacity:1;filter:"alpha(opacity=100)";
          -ms-filter:"alpha(opacity=100)";
      }
        

      .dropbtn1 {
        background:transparent;
        padding: 5px;
        font-size: 16px;
        border: none;
        margin:0;
        width:auto;
        color:white;
        
      }
      .dropbtn1:hover {
      color:#f3c93e
      }
      .dropdown1 {
        position: relative;
        display: inline-block;
        width:100px;
      }
      
      .dropdown-content1 {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 180px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
        text-align: left !important;
        
      }
      
      .dropdown-content1 a {
        color: black;
        padding: 5px 6px;
        text-decoration: none;
        display: block;
      }
      
      .dropdown-content1 a:hover {
        color:blue;
      }
     
      .dropdown1:hover .dropdown-content1 {display: block;}


      .dropdown-menu
{
  margin-top:10px;
  margin-left:-30px;
}
.dropdown-menu li:hover
{
  background:dodgerblue;
  
}
.badge {
  font-size: 12px;
  background: #ff0000;
  color: #fff;
  padding: 0 5px;
  vertical-align: top;
 
}
      </style>
      
      <script>
        $(document).ready(function(){
          $("#myInput").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#pname").filter(function() {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
            });
          });
        });



        $(document).ready(function(){ 
          $(window).scroll(function(){ 
              if ($(this).scrollTop() > 100) { 
                  $('#scroll').fadeIn(); 
              } else { 
                  $('#scroll').fadeOut(); 
              } 
          }); 
          $('#scroll').click(function(){ 
              $("html, body").animate({ scrollTop: 0 }, 600); 
              return false; 
          }); 
      });
        </script>
      </head>
      
      <body onload="document.getElementById('maxPrice').value='{{getmaxprice.product_price}}';document.getElementById('rangeInput').value='{{getmaxprice.product_price}}';">
        <a href="#" id="scroll" style="display: none;"><span></span></a>
        <div class="hero_area">
        
          <!-- header section strats -->
          <div style="position:fixed;z-index:9999;width:100%;">
          <header class="header_section" >
            <div class="header_top" style="background-color:#3a4468;">
              <div class="container-fluid">
                <div class="top_nav_container">
                  <div class="contact_nav">
                    <a class="navbar-brand" href="/">
                      <span>
                        Minics
                      </span>
                    </a>
                   </div>
                   <form method="POST" action="/search">
                    <from class="search_form">
                      
                        {% csrf_token %}
                      <input type="text" class="form-control" id="tagss" name="searchtext" placeholder="Search here..." required>
                      <button class="" type="submit"name="searchbtn">
                        <i class="fa fa-search" aria-hidden="true"></i>
                      </button>
                      
                    </from>
                  </form>
                    {% if sessemail%}
                    <div class="user_option_box">
                    <div class="dropdown1" >
                      
                      <button id="mypro" onmouseout="document.getElementById('mypro').style.color='white';"onmouseover="document.getElementById('mypro').style.color='#f3c93e';"data-toggle="dropdown" class="user-action"class="account-link dropbtn1" style="background:transparent;outline:none;border:0px;color:white;margin-left:-30px;">
                        <i class="fa fa-user" aria-hidden="true"style="color:#f3c93e;"></i>
                      <span>
                        {{fullname|truncatechars:7}} <i class="fa fa-caret-down" aria-hidden="true"></i>
                      </span>
                    </button>
                    <ul class="dropdown-menu">
                      <li><a href="/myprofile"><font color="black"><i style="color:black;"class="fa fa-user-o"></i> My Profile</font></a></li>
                      <li><a href="/myorders"><font color="black"><i style="color:black;"class="fa fa-shopping-cart" aria-hidden="true"></i> My Orders</font></a></li>
                      <li><a href="/mywishlist"><font color="black"><i style="color:black;"class="fa fa-heart" aria-hidden="true"></i> My Wishlist</font></a></li>
                      <li style="color:black;border-bottom:1px solid lightgrey;"></li>
                      <li><a href="/logout"><font color="black"><i style="color:black;" class="fa fa-sign-out" aria-hidden="true"></i> Logout</font></a></li>
                    </ul>
                    </div>
                    {%else%}
                      <div class="user_option_box">
                      <a href="/register" class="account-link">
                        <i class="fa fa-user" aria-hidden="true"></i>
                        <span>
                          Sign In / Register
                        </span>
                      </a>
                      {% endif %}
         
                    <a href="/gotocart" class="cart-link">
                      <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                      <span>
                        Cart
                        {%if cartt == 0%}
                  {%else%}
                  <span class="badge">{{cartt}}</span>
                  {%endif%}
                      </span>
                    </a>
                  </div>
                </div>
      
              </div>
            </div>
           
          </header>
          
        </div>
        <div style="margin-top:70px;"></div>
          <script>
            $.noConflict();
            $( function() {
              var prodsname = [
                  {%for rec in records%}
                      "{{rec.related_to}}",
                  {%endfor%}
                  {%for rec1 in records1%}
                "{{rec1.product_name}}",
              
            {%endfor%}
            {%for rec2 in records2%}
                "{{rec2.brand}}",
              
            {%endfor%}
              ];
           
              $( "#tagss" ).autocomplete({
                source: prodsname
             
              });
              
            } );
            </script>
          <!-- end header section -->
          <!-- slider section -->
          
            
              <div style="display:inline-block;background-color:white;width:100%;">
             {% for cats in cat %}
             <div class="dropdown" >
             <button class="dropbtn">
           <img src="{{cats.catimage.url}}" width="80px" height="100px" style="margin-left:5px;">
           <span>{{cats.catname}}</span> 
          </button>
          <div class="dropdown-content">
            {% for subs in subcat %}
              {% if subs.catnam|stringformat:'s' == cats.catname|stringformat:'s' %}
              <a href="/showproduct/{{cats.catname}}/{{subs.subcatname}}/all">{{subs.subcatname}}</a>
            {% endif %}
            
           
            {% endfor %} 
            </div>
          </div>
            {% endfor %}
            </div>
        
        
        {%if mymsg|stringformat:'s' == "No results found for"%}
        <div style="margin-top:100px;"></div>
         <center> <b><font color="red">No results found for {{text}}</font>
            <br>
            Try checking your spelling or use more general terms
          </b></center>
          <div style="margin-top:200px;"></div>
          <br>
        {%else%}
        
        <div class="container-fluid" style="border:1px solid black;">
          <div class="row"style="items-align:center;">
              <div class="col-sm-3 col-md-6 col-lg-3" style="border:1px solid black;">
                <script type="text/javascript" src="{% static 'product-filter.js' %}"></script>
        <h3 class="mb-4 border-bottom pb-1">Filters</h3>
        <!-- Price Filter -->
        <div class="card mb-4">
          <h6 class="card-header">Price</h6>
          <div class="list-group list-group-flush">
            <li class="list-group-item">
              <input type="range" value="{{minMaxPrice.price__min}}" max={{getmaxprice.product_price}} min={{getminprice.product_price}} id="rangeInput" oninput="maxPrice.value=this.value" />
              <p>{{getminprice.product_price}}-{{getmaxprice.product_price}}</p>
            </li>
            <input type="hidden" value="{{sesscat}}" name="category" id="category">
            <input type="hidden" value="{{sesssub}}" name="subcategory" id="subcategory">
          
            <li class="list-group-item">
              Max: <input type="number" value="{{minMaxPrice.price__min}}" max={{getmaxprice.product_price}} min={{getminprice.product_price}} class="form-control" id="maxPrice" onkeyup="rangeInput.value=this.value" id="maxPrice" />
              <button id="priceFilterBtn" class="btn btn-info btn-sm mt-1">Filter</button>
            </li>
          </div>
        </div>
        
        {%if catname|stringformat:'s' != "Grocery"%}
        <!-- Filter 1 -->
        <div class="card mb-4">
          <h6 class="card-header">Colors</h6>
          <div class="list-group list-group-flush">
            {% for pn,color in colors.items %}
            <li class="list-group-item">
              <input class="filter-checkbox" data-filter="color" value="{{color}}" type="checkbox" />&nbsp;
              {%if color|stringformat:'s' == "Multi Color" %}
              <button class="btn" style="margin-top: -5px;width:40px;height:25px;background-image: linear-gradient(to right, red,orange,yellow,green,blue,indigo,violet);border:1px solid black;"></button> {{color}}
            {%else%}
            <button class="btn" style="margin-top: -5px;width:40px;height:25px;border:1px solid black;background:{{color}}"></button> {{color}}
            {%endif%}
            </li>
            {% endfor %}
          </div>
        </div>
        {%endif%}
        <!-- Filter 2 -->
        <div class="card mb-4">
          <h6 class="card-header">Type</h6>
          <div class="list-group list-group-flush">
            {% for pn,type in type1.items %}
            <li class="list-group-item">
              <input class="filter-checkbox" data-filter="types1" value="{{type}}" type="checkbox" />&nbsp;
              {{type}}
            </li>
            {% endfor %}
          </div>
        </div>
        <!-- Filter 3 -->
        <div class="card mb-4">
          <h6 class="card-header">Brands</h6>
          <div class="list-group list-group-flush">
            {% for pn,brand in brands.items %}
            <li class="list-group-item">
              <input class="filter-checkbox" data-filter="brands" value="{{brand}}" type="checkbox" />&nbsp;
              {{brand}}
            </li>
            {% endfor %}
          </div>
        </div>
        <!-- Filter 3 -->
        <div class="card mb-4">
          <h6 class="card-header">Sizes</h6>
          <div class="list-group list-group-flush">
            {% for pn,size in sizes.items %}
            <li class="list-group-item">
              <input class="filter-checkbox" data-filter="sizes" value="{{size}}" type="checkbox" />&nbsp;
              {{size}}
            </li>
            {% endfor %}
          </div>
        </div>
  
              </div>
            <div class="col-sm-9 col-md-6 col-lg-9" style="border:1px solid black;">
              
                Sort By <select name="sortby" id="sortby">
                  <option value="Low to High">Low to High</option>
                  <option value="High to Low">High to Low</option>
                </select>


              <div class="row" id="filteredProducts">
                
                  
                  {% for prods in product %}
                  {% for prodddet in getdetail %}
                  {%if prods.product_number|stringformat:'s' == prodddet.product_number|stringformat:'s'%}
                  <div class="col-4"id="pname" >
                    <a href="/singleproduct/{{prods.product_number}}" style="text-decoration:none;">
                      <div class="card-deck" style="margin-top:30px;">
                      <div class="card"  height="400px;">
                  <img title="{{prods.product_number}}"class="card-img-top" src="{{prods.product_image.url}}" height="250px" width="100px;">
                  <div class="card-body">
                      <p class="card-text" style="font-size: 14px;color:gray;">Seller: {{prods.soldby}}</p>
                      <h5  class="card-title" style="font-size: 17px;">{{prods.product_name|truncatechars:32}}</h5>
                      <p class="card-text"><b>Price:&#8377; <script>var a="{{prods.product_price}}"; var b="{{prodddet.discount}}";  var c=parseInt(a-(a*b/100)); document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(c));</script>  <span style="color:grey;"><strike>&#8377;{{prods.product_price|intcomma}}</strike></span> <span style="color:darkgreen;font-size:14px;">{{prodddet.discount}}% off</span></b></p>
                  </div>
                  </div>
                  </div>
                  </a>
                  </div>
                  {%endif%}
                  {% endfor %} 
                  {% endfor %}  
</div>

</div>
</div>
</div>
{%endif%}
 <!-- info section -->
 <section class="info_section " style="margin-top: 50px;">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="info_contact">
            <h5>
              <a href="" class="navbar-brand">
                <span>
                  Minics 
                </span>
              </a>
            </h5>
            <p>
              <i class="fa fa-map-marker" aria-hidden="true"></i>
              Address
            </p>
            <p>
              <i class="fa fa-phone" aria-hidden="true"></i>
              +01 1234567890
            </p>
            <p>
              <i class="fa fa-envelope" aria-hidden="true"></i>
              demo@gmail.com
            </p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_info">
            <h5>
              Information
            </h5>
            <p>
              Eligendi sunt, provident, debitis nemo, facilis cupiditate velit libero dolorum aperiam enim nulla iste maxime corrupti ad illo libero minus.
            </p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_links">
            <h5>
              Useful Link
            </h5>
            <ul>
              <li>
                <a href="index.html">
                  Home
                </a>
              </li>
              <li>
                <a href="about.html">
                  About
                </a>
              </li>
              <li>
                <a href="product.html">
                  Products
                </a>
              </li>
              <li>
                <a href="why.html">
                  Why Us
                </a>
              </li>
              <li>
                <a href="testimonial.html">
                  Testimonial
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_form ">
            <h5>
              Newsletter
            </h5>
            <form action="">
              <input type="email" placeholder="Enter your email">
              <button>
                Subscribe
              </button>
            </form>
            <div class="social_box">
              <a href="">
                <i class="fa fa-facebook" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-twitter" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-instagram" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-youtube" aria-hidden="true"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end info_section -->


 
<footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="https://html.design/">Free Html Templates</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->

  <!-- jQery -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>


</body>

</html>