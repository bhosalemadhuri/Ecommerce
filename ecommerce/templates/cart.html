{% load static %}
{% load humanize %}

<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <link rel="icon" href="{% static 'images/fevicon.png' %}" type="image/gif" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  
  <title>Minics</title>
  

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />

  <!-- fonts style -->
  <link href="{% static 'https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap' %}" rel="stylesheet"> <!-- range slider -->

  <!-- font awesome style -->
  <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet" />
  <!-- responsive style -->
  <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />



  <script src=  
  "https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js">  
      </script>  
      
      <script src=  
  "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.js">  
      </script>  
      
      <link href=  
  "http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/ui-lightness/jquery-ui.css"
          rel="stylesheet" type="text/css" />  
         
          
          <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
          
          <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>


          <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 

<style>
  .dropbtn {
    background:white;
    padding: 5px;
    font-size: 16px;
    border: none;
    margin:0;
    width:213px;
  }
  
  .dropdown {
    position: relative;
    display: inline-block;
  }
  
  .dropdown-content {
    display: none;
    position: absolute;
    background-color: #f1f1f1;
    min-width: 200px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    z-index: 1;
  }
  
  .dropdown-content a {
    color: black;
    padding: 10px 12px;
    text-decoration: none;
    display: block;
  }
  
  .dropdown-content a:hover {
    background-color: #ddd;}
  
  .dropdown:hover .dropdown-content {display: block;}
  
  .dropdown:hover .dropbtn {background-color:#E8E8E8;}
  .main-content-wrapper {
     z-index: 1;
   flex-wrap: wrap;
}
.d-flex {
    display: flex!important;
}
.main-content-wrapper .cart-table-area {
    position: relative;
    z-index: 1;
    flex: 0 0 calc(95% - 320px);
    width: calc(95% - 320px);
    max-width: calc(95% - 320px);
}
.section-padding-100 {
    padding-top: 100px;
    padding-bottom: 100px;
}
.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
   
   
}
.row {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}
.mt-50 {
    margin-top: 50px !important;
}
.main-content-wrapper .cart-table-area .cart-title h2 {
    font-size: 30px;
    margin-bottom: 30px;
    color: #242424;
}
h1, h2, h3, h4, h5, h6 {
    color: #242424;
    line-height: 1.3;
    font-weight: 400;
}
.main-content-wrapper .cart-table-area table tbody tr td .qty-btn p {
    margin-bottom: 0;
    line-height: 40px;
    height: 40px;
    padding: 0 15px;
    background-color: #f5f7fa;
    color: #242424;
    font-size: 14px;
}

p {
    color: #6d6d6d;
    font-size: 16px;
    line-height: 1.9;
    font-weight: 400;
}
p {
    margin-top: 0;
    margin-bottom: 1rem;
}
.main-content-wrapper .cart-table-area table tbody tr td .qty-btn .quantity {
    position: relative;
    z-index: 1;
}
.main-content-wrapper .cart-table-area table tbody tr td .qty-btn .quantity .qty-minus {
    position: absolute;
    top: 0;
    right: 40px;
    line-height: 40px;
    width: 20px;
    height: 40px;
    text-align: center;
    cursor: pointer;
    color: #242424;
    font-size: 10px;
}
#checkout:hover{

color:white;

}
#checkout1:hover{

  color:white;
  
  }
.main-content-wrapper .cart-table-area table tbody tr td .qty-btn .quantity .qty-plus {
    position: absolute;
    right: 0;
    top: 0;
    line-height: 40px;
    width: 20px;
    text-align: center;
    height: 40px;
    cursor: pointer;
    color: #242424;
    font-size: 10px;
}
.fa {
    display: inline-block;
    font: normal normal normal 14px/1 FontAwesome;
    font-size: inherit;
    text-rendering: auto;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
.fa-minus:before {
    content: "\f068";
}
*, ::after, ::before {
    box-sizing: border-box;
}
.main-content-wrapper .cart-table-area table tbody tr td .qty-btn .quantity input {
    text-align: center;
    background-color: #f5f7fa;
    height: 40px;
    width: 60px;
    border: none;
    appearance: textfield;
    color: #242424;
    font-size: 14px;
}
.fa-plus:before {
    content: "\f067";
}
.clearfix::after {
    display: block;
    clear: both;
    content: "";
}
.main-content-wrapper .cart-table-area .cart-summary {
    background-color: #f5f7fa;
    margin-top: 118px;
    position: relative;
    z-index: 1;
    padding: 30px 0px;
    width:150%;
 
}
.main-content-wrapper .cart-table-area .cart-summary h5 {
    font-size: 18px;
    margin-bottom: 0;
}
.main-content-wrapper .cart-table-area .cart-summary .summary-table {
    margin-top: 30px;
}
ul,ol{
    margin:0;
}
.main-content-wrapper .cart-table-area .cart-summary .summary-table li {
    display: flex;
    margin-bottom: 30px;
    text-transform: capitalize;
    margin-left: 0;
   
}
ul li, ol li {
    list-style: none;
}
.main-content-wrapper .cart-table-area .cart-summary .summary-table li span {
    color: #6b6b6b;
    font-size: 16px;
    
}
.mt-100 {
    margin-top: 20px !important;
}
.btn:not(:disabled):not(.disabled) {
    cursor: pointer;
}
.amado-btn {
    display: inline-block;
    min-width: 150px;
    height: 55px;
    color: #ffffff;
    border: none;
    border-radius: 0;
    padding: 0 7px;
    font-size: 18px;
    line-height: 56px;
    background-color: #fbb710;
    font-weight: bold;
margin-left:15px;
}
.amado-btns {
  display: inline-block;
  min-width: 150px;
  height: 55px;
  color: #ffffff;
  border: none;
  border-radius: 0;
  padding: 0 7px;
  font-size: 18px;
  line-height: 56px;
  background-color: black;
  font-weight: bold;
margin-left:15px;
}


.w-100 {
    width: 90%!important;
}
.btn {
    display: inline-block;
    font-weight: 400;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    border: 1px solid transparent;
    padding: .375rem .75rem;
    font-size: 1rem;
    line-height: 1.5;
    border-radius: .25rem;
    transition: color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}
.cart_product_img
{
width:30%;
}
#delete
{
  display: inline-block;
    font-family: FontAwesome;
    font-style: normal;
    font-weight: normal;
    line-height: 1;
    -webkit-font-smoothing: antialiased;
}
#deleteanchor
{
    background: #f0f0e9;
    color: #fff;
    padding: 5px 7px;
    font-size: 16px;
    -webkit-transition: 300ms;
    transition: 300ms;
    color: #428bca;
    color:white;
    text-decoration: none;
    background: #DCDCDC;
}
#deleteanchor:hover
{
background:#fbb710;
}

*, *:before, *:after {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}
/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* Firefox */
input[type=number] {
  -moz-appearance: textfield;
}


.dropbtn1 {
  background:transparent;
  padding: 5px;
  font-size: 16px;
  border: none;
  margin:0;
  width:auto;
  color:white;
  
}
.dropbtn1:hover {
color:#f3c93e
}
.dropdown1 {
  position: relative;
  display: inline-block;
  width:100px;
}

.dropdown-content1 {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 180px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
  text-align: left !important;
  
}

.dropdown-content1 a {
  color: black;
  padding: 5px 6px;
  text-decoration: none;
  display: block;
}

.dropdown-content1 a:hover {
  color:blue;
}

.dropdown1:hover .dropdown-content1 {display: block;}


.dropdown-menu
{
  margin-top:10px;
  margin-left:-30px;
}
.dropdown-menu li:hover
{
  background:dodgerblue;
  
}
.badge {
  font-size: 12px;
  background: #ff0000;
  color: #fff;
  padding: 0 5px;
  vertical-align: top;
 
}
</style>
</head>
<body>
<div class="hero_area">
  
  <!-- header section strats -->
  <div style="position:fixed;z-index:9999;width:100%;">
  <header class="header_section" >
    <div class="header_top" style="background-color:#3a4468;">
      <div class="container-fluid">
        <div class="top_nav_container">
          <div class="contact_nav">
            <a class="navbar-brand" href="/">
              <span>
                Minics
              </span>
            </a>
           </div>
           <form method="POST" action="/search">
          <from class="search_form">
            
            {% csrf_token %}
            <input type="text" class="form-control" id="tags" name="searchtext" placeholder="Search here..." required>
            <button class="" type="submit"name="searchbtn">
              <i class="fa fa-search" aria-hidden="true"></i>
            </button>
            
          </from>
        </form>
        
          {% if sessemail%}
          <div class="user_option_box">
          <div class="dropdown1" >
            
            <button id="mypro" onmouseout="document.getElementById('mypro').style.color='white';"onmouseover="document.getElementById('mypro').style.color='#f3c93e';"data-toggle="dropdown" class="user-action"class="account-link dropbtn1" style="background:transparent;outline:none;border:0px;color:white;margin-left:-30px;">
              <i class="fa fa-user" aria-hidden="true"style="color:#f3c93e;"></i>
            <span>
              {{fullname|truncatechars:7}} <i class="fa fa-caret-down" aria-hidden="true"></i>
            </span>
          </button>
          <ul class="dropdown-menu">
            <li><a href="/myprofile"><font color="black"><i style="color:black;"class="fa fa-user-o"></i> My Profile</font></a></li>
            <li><a href="/myorders"><font color="black"><i style="color:black;"class="fa fa-shopping-cart" aria-hidden="true"></i> My Orders</font></a></li>
            <li><a href="/mywishlist"><font color="black"><i style="color:black;"class="fa fa-heart" aria-hidden="true"></i> My Wishlist</font></a></li>
            <li style="color:black;border-bottom:1px solid lightgrey;"></li>
            <li><a href="/logout"><font color="black"><i style="color:black;" class="fa fa-sign-out" aria-hidden="true"></i> Logout</font></a></li>
          </ul>
          </div>
          {%else%}
            <div class="user_option_box">
            <a href="/register" class="account-link">
              <i class="fa fa-user" aria-hidden="true"></i>
              <span>
                Sign In / Register
              </span>
            </a>
            {% endif %}
            
            <a href="/gotocart" class="cart-link">
              <i class="fa fa-shopping-cart" aria-hidden="true"></i>
              <span>
                Cart
                {%if cartt == 0%}
                {%else%}
                <span class="badge">{{cartt}}</span>
                {%endif%}
              </span>
            </a>
          </div>
        </div>

      </div>
    </div>
   
  </header>
</div>
  <script>
    $.noConflict();
    $( function() {
      var prodsname = [
          {%for rec in records%}
              "{{rec.related_to}}",
          {%endfor%}
          {%for rec1 in records1%}
                "{{rec1.product_name}}",
              
            {%endfor%}
            {%for rec2 in records2%}
                "{{rec2.brand}}",
              
            {%endfor%}
      ];
   
      $( "#tags" ).autocomplete({
        source: prodsname
      });
      
    } );
    </script>
    <!-- end header section -->
    <!-- slider section -->
    <script>
      var orprice="";
      var discprice="";
      var counts="";
    </script>
      
   
  <div style="width:118%;margin-top:-55px;">
  <div class="main-content-wrapper d-flex clearfix">

  <div class="cart-table-area section-padding-100">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 col-lg-10">
                <div class="cart-title mt-50">
                  {% for carts in cartdata %}
                  {% if carts.email|stringformat:'s' == sessem|stringformat:'s' %}
                    
                  
                  <script>var counts=parseInt(counts+1);</script>
                   
                                 
                  
                  {% endif %}
                  {% endfor %} 
                  <h2>My Cart (<script>document.write(counts);</script>)</h2> 
                </div>

                <div class="cart-table clearfix">
                    <table class="table table-responsive">
                        <thead>
                            <tr>
                                <th width="0%" style="padding-right:0px;" >Image</th>
                                <th>Name</th>
                                 <th style="padding-left:50px;">Price</th>
                                <th>Quantity</th>
                            </tr>
                        </thead>
                        <tbody>

                            {% for carts in cartdata %}
                            {% for prods in proddet %}                            
                            {% if carts.product_number|stringformat:'s' == prods.product_number|stringformat:'s'%}
                            {% if carts.email|stringformat:'s' == sessem|stringformat:'s' %}
                            
                            <tr>
                                <td style="padding-right:0px;width:190px;" >
                                    <a href="#"><img src="{{prods.product_image.url}}" width="100px"height="100px"alt="Product"></a>
                                </td>
                                <td class="cart_product_desc"style="width:500px;">
                                    <h5>{{prods.product_name}}</h5>
                                </td>
                                <td class="price"style="width:200px;padding-left:50px;">
                                  {%if carts.negotiation_status|stringformat:'s' == "negotiated"%}  
                                  <span>₹<script>var a="{{prods.product_price}}"; var b="{{carts.discount_price}}"; var d="{{carts.quantity}}"; var k=parseInt(b*d); var orprice=parseInt(a*d+orprice); var discprice=parseInt(discprice+(a-b)*d); document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(k));</script><small><b><font color="green">(N)</font></b></small></span>
                                   {%else%}
                                   <span>₹<script>var a="{{prods.product_price}}"; var b="{{carts.discount_price}}"; var d="{{carts.quantity}}"; var k=parseInt(b*d); var orprice=parseInt(a*d+orprice); var discprice=parseInt(discprice+(a-b)*d); document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(k));</script></span>
                                   {%endif%}
                                  </td>
                                <td class="qty"style="width:160px;">
                                    <div class="qty-btn d-flex">
                                        <p>Qty</p>
                                        <div class="quantity">
                                            <span class="qty-minus" onclick=" var effect = document.getElementById('{{carts.cart_id}}'); var qty = effect.value; if( !isNaN( qty ) && qty > 1 ){effect.value--; window.location.href='/mycarts/{{prods.product_number}}/{{carts.cart_id}}/'+effect.value;} return false;"><i class="fa fa-minus" aria-hidden="true"></i></span>
                                         
                                            <input type="number" class="qty-text"id="{{carts.cart_id}}" step="1" min="1" max="300" name="quantity" value="{{carts.quantity}}">
                                            <span class="qty-plus" onclick="var effect = document.getElementById('{{carts.cart_id}}'); var qty = effect.value; if( !isNaN( qty )){effect.value++; window.location.href='/mycarts/{{prods.product_number}}/{{carts.cart_id}}/'+effect.value;} return false;"><i class="fa fa-plus" aria-hidden="true"></i></span>
                                            
                                          </div>
                                          <div style="margin-top:5px;margin-left:25px;"><a id="deleteanchor" href="/deleteitemcart/{{prods.product_number}}/{{carts.cart_id}}" title="remove item"><i id="delete" class="fa fa-times"></i></a></div>
                                    </div>
                                    
                                </td>
                            </tr>
                            {%endif %}
                            {%endif %}
                            {%endfor %}
                            {%endfor %}
                           
                         </tbody>
                    </table>
                </div>
            </div>
            <div class="col-12 col-lg-2">
                <div class="cart-summary">
                    <h5 style="margin-left:15px;">Cart Total</h5>
                    <ul class="summary-table">
                        <li style="width:300px;"><span style="margin-left:-20px;">Original Price:</span> <span style="margin-left:80px;">₹<script>document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(orprice));</script></span></li>
                        <li><span style="margin-left:-20px;">Discount:</span> <span style="margin-left:115px;">-₹<script>document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(discprice));</script></span></li>
                       
                        <li><span style="margin-left:-20px;">delivery:</span> <span style="margin-left:130px;">Free</span></li>
                        <li><span style="margin-left:-20px;">total:</span> <span style="margin-left:150px;">₹<script>document.write(new Intl.NumberFormat('en-IN', { maximumSignificantDigits: 5 }).format(orprice-discprice));</script></span></li>
                    </ul>
                    <a id="checkout1" href="/" style="line-height:40px;width:100px;"class="btn amado-btns w-100"><b>Continue Shopping</b></a>
                    <div class="cart-btn mt-100">
                        <a id="checkout" href="/checkout" style="line-height:40px;width:100px;"class="btn amado-btn w-100"><b>Checkout</b></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>

</div>

 <!-- info section -->
 <section class="info_section ">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <div class="info_contact">
            <h5>
              <a href="" class="navbar-brand">
                <span>
                  Minics
                </span>
              </a>
            </h5>
            <p>
              <i class="fa fa-map-marker" aria-hidden="true"></i>
              Address
            </p>
            <p>
              <i class="fa fa-phone" aria-hidden="true"></i>
              +01 1234567890
            </p>
            <p>
              <i class="fa fa-envelope" aria-hidden="true"></i>
              demo@gmail.com
            </p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_info">
            <h5>
              Information
            </h5>
            <p>
              Eligendi sunt, provident, debitis nemo, facilis cupiditate velit libero dolorum aperiam enim nulla iste maxime corrupti ad illo libero minus.
            </p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_links">
            <h5>
              Useful Link
            </h5>
            <ul>
              <li>
                <a href="index.html">
                  Home
                </a>
              </li>
              <li>
                <a href="about.html">
                  About
                </a>
              </li>
              <li>
                <a href="product.html">
                  Products
                </a>
              </li>
              <li>
                <a href="why.html">
                  Why Us
                </a>
              </li>
              <li>
                <a href="testimonial.html">
                  Testimonial
                </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-3">
          <div class="info_form ">
            <h5>
              Newsletter
            </h5>
            <form action="">
              <input type="email" placeholder="Enter your email">
              <button>
                Subscribe
              </button>
            </form>
            <div class="social_box">
              <a href="">
                <i class="fa fa-facebook" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-twitter" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-instagram" aria-hidden="true"></i>
              </a>
              <a href="">
                <i class="fa fa-youtube" aria-hidden="true"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end info_section -->


  <!-- footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="https://html.design/">Free Html Templates</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->

  <!-- jQery -->
  <script src="js/jquery3.4.1.min.js"></script>
  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>


</body>

</html>